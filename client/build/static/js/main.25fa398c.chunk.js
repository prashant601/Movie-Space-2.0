(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{78:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(22),s=a.n(c),r=a(6),i=a(9),o=a(1),l=Object(i.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.auth,a=t.isAuthenticated,n=t.user;return a?Object(o.jsx)("div",{className:"comp_container",children:Object(o.jsxs)("div",{className:"form_container",children:[Object(o.jsx)("h2",{className:"form_heading",children:"Dashboard"}),Object(o.jsxs)("center",{children:["Name: ",Object(o.jsxs)("b",{children:[" ",n&&n.name]})]}),Object(o.jsxs)("center",{children:["Email: ",Object(o.jsxs)("b",{children:[" ",n&&n.email]})]}),Object(o.jsxs)("center",{children:["Phone no.: ",Object(o.jsxs)("b",{children:[" ",n&&n.number]})]})]})}):Object(o.jsx)(r.a,{to:"/"})})),d=a(7),j=Object(i.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}))((function(e){return e.isAuthenticated?Object(o.jsx)(r.a,{to:"/dashboard"}):Object(o.jsx)("div",{className:"comp_container",children:Object(o.jsxs)("div",{className:"form_container",children:[Object(o.jsx)("h2",{className:"form_heading",children:"Home"}),Object(o.jsx)("center",{style:{color:"blue-gray",fontSize:"3rem"},children:"Welcome to MOVIE SPACE"}),Object(o.jsx)("center",{children:Object(o.jsx)(d.b,{to:"/login",children:"Login"})})]})})})),u=a(12),b=a.n(u),h=a(16),m=a(18),p=a(8),O=a(17),f=a(83),x=a(85),v=a(84),g="SET_ALERT",w="REMOVE_ALERT",y="REGISTER_SUCCESS",N="USER_LOADED",k="AUTH_ERROR",S="LOGIN_SUCCESS",E="LOGOUT",A=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(n){var c=Object(v.a)();n({type:g,payload:{msg:e,alertType:t,id:c}}),setTimeout((function(){return n({type:w,payload:c})}),a)}},C=Object(i.b)((function(e){return{alerts:e.alert}}))((function(e){return e.alerts.map((function(e){return Object(o.jsx)("div",{className:"alert alert-".concat(e.alertType),children:e.msg},e.id)}))})),_=a(39),I=a.n(_),P=a(19),L=a(40),R=a(41),T=a(42),U=[];var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case g:return[].concat(Object(T.a)(e),[n]);case w:return e.filter((function(e){return e.id!==n}));default:return e}},G={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null};var B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case N:return Object(p.a)(Object(p.a)({},e),{},{isAuthenticated:!0,loading:!1,user:n});case y:case S:return Object(p.a)(Object(p.a)(Object(p.a)({},e),n),{},{isAuthenticated:!0,loading:!1});case k:case E:return Object(p.a)(Object(p.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1,user:null});default:return e}},D=Object(P.combineReducers)({alert:M,auth:B}),F=function(e){e?(q.defaults.headers.common["x-auth-token"]=e,localStorage.setItem("token",e)):(delete q.defaults.headers.common["x-auth-token"],localStorage.removeItem("token"))},V=[R.a],H=Object(P.createStore)(D,{},Object(L.composeWithDevTools)(P.applyMiddleware.apply(void 0,V))),z=H.getState();H.subscribe((function(){var e=z;if(z=H.getState(),e.auth.token!==z.auth.token){var t=z.auth.token;F(t)}}));var J=H,W=I.a.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});W.interceptors.response.use((function(e){return e}),(function(e){return 401===e.response.status&&J.dispatch({type:E}),Promise.reject(e)}));var q=W,K=function(){return function(){var e=Object(h.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.get("/getUser");case 3:a=e.sent,t({type:N,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:k});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},Q=a.p+"static/media/login.c6b5cf28.png",X=Object(i.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{setAlert:A,login:function(e){return function(){var t=Object(h.a)(b.a.mark((function t(a){var n,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,q.post("/login",e);case 3:n=t.sent,a({type:S,payload:n.data}),a(K()),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),(c=t.t0.response.data.errors)&&c.forEach((function(e){return a(A(e.msg,"danger"))})),a({type:k});case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){e.setAlert;var t=e.login,a=e.isAuthenticated,c=Object(n.useState)({email:"",password:""}),s=Object(O.a)(c,2),i=s[0],l=s[1],j=i.email,u=i.password,v=function(e){return l(Object(p.a)(Object(p.a)({},i),{},Object(m.a)({},e.target.name,e.target.value)))},g=function(){var e=Object(h.a)(b.a.mark((function e(a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),t({email:j,password:u});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a?Object(o.jsx)(r.a,{to:"/dashboard"}):Object(o.jsxs)("div",{className:"form_container d-flex flex-row justify-content-around align-items-center",children:[Object(o.jsx)("div",{className:"loginImg",children:Object(o.jsx)("img",{src:Q,height:"500px",width:"500px"})}),Object(o.jsx)("div",{children:Object(o.jsxs)(f.a,{className:"login_form",onSubmit:g,children:[Object(o.jsx)("h1",{className:"form_heading fw-bold ",children:"Login"}),Object(o.jsx)(C,{}),Object(o.jsxs)(f.a.Group,{controlId:"formBasicEmail",children:[Object(o.jsx)(f.a.Label,{className:"fw-bolder ",children:"Email address"}),Object(o.jsx)(f.a.Control,{value:j,type:"email",placeholder:"Enter email",name:"email",onChange:v})]}),Object(o.jsxs)(f.a.Group,{controlId:"formBasicPassword",children:[Object(o.jsx)(f.a.Label,{className:"pt-1 fw-bolder",children:"Password"}),Object(o.jsx)(f.a.Control,{type:"password",placeholder:"Password",name:"password",value:u,onChange:v})]}),Object(o.jsx)(x.a,{variant:"success",className:"my-2 ",type:"submit",children:"Submit"}),Object(o.jsx)("center",{children:Object(o.jsx)(d.b,{to:"/register",children:"Not a User?"})})]})})]})})),Y=function(){return Object(o.jsx)("div",{className:"form_container",children:Object(o.jsxs)("div",{className:"container px-4 py-5",id:"featured-3",children:[Object(o.jsx)("h2",{className:"pb-2 border-bottom",children:"About MOVIE SPACE"}),Object(o.jsxs)("div",{className:"row g-4 py-5 row-cols-1 row-cols-lg-3",children:[Object(o.jsxs)("div",{className:"feature col",children:[Object(o.jsx)("h2",{children:"Intro"}),Object(o.jsx)("p",{children:"The Movie Space app aims to solve exactly that problem by providing the user with relevant details about any movie easily. Users can search a keyword and get a list of all the movies having this keyword in the title."})]}),Object(o.jsxs)("div",{className:"feature col",children:[Object(o.jsx)("h2",{children:"Functions"}),Object(o.jsx)("p",{children:"On searching a keyword, we get the list of movies displayed in the form of tiles\u2014these tiles have a rating along with the poster and a brief summary of the movie\u2019s storyline that the API has fetched."})]}),Object(o.jsxs)("div",{className:"feature col",children:[Object(o.jsx)("h2",{children:"Conclusion"}),Object(o.jsx)("p",{children:"The MOVIE SPACE app basically helps us to search and know the details of the movies like poster, user rating and  summary. The user data is stored in a database. The details about the movies is made available by using an API. User can easily search the movie options then decide what to watch."})]})]})]})})},Z=Object(i.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{setAlert:A,register:function(e){return function(){var t=Object(h.a)(b.a.mark((function t(a){var n,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,q.post("/register",e);case 3:n=t.sent,a({type:y,payload:n.data}),a(K()),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),(c=t.t0.response.data.errors)&&c.forEach((function(e){return a(A(e.msg,"danger"))})),a({type:k});case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.setAlert,a=e.register,c=e.isAuthenticated,s=Object(n.useState)({name:"",email:"",password:"",password2:""}),i=Object(O.a)(s,2),l=i[0],j=i[1],u=l.name,v=l.email,g=l.password,w=l.password2,y=function(e){return j(Object(p.a)(Object(p.a)({},l),{},Object(m.a)({},e.target.name,e.target.value)))},N=function(){var e=Object(h.a)(b.a.mark((function e(n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),g!==w?t("Passwords dont match","danger"):a({name:u,email:v,password:g});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c?Object(o.jsx)(r.a,{to:"/dashboard"}):Object(o.jsxs)("div",{className:"form_container1 d-flex flex-row md-flex-column justify-content-around align-items-center",children:[Object(o.jsx)("div",{className:"registerImg",children:Object(o.jsx)("img",{src:Q,height:"500px",width:"500px"})}),Object(o.jsx)("div",{children:Object(o.jsxs)(f.a,{className:"reg_form",onSubmit:N,children:[Object(o.jsx)("h1",{className:"form_heading fw-bold",children:"Register"}),Object(o.jsx)(C,{}),Object(o.jsxs)(f.a.Group,{controlId:"formBasicName",children:[Object(o.jsx)(f.a.Label,{className:"fw-bolder ",children:"Name"}),Object(o.jsx)(f.a.Control,{type:"text",placeholder:"Enter name",name:"name",value:u,onChange:y})]}),Object(o.jsxs)(f.a.Group,{controlId:"formBasicEmail",children:[Object(o.jsx)(f.a.Label,{className:"fw-bolder pt-1",children:"Email address"}),Object(o.jsx)(f.a.Control,{type:"email",placeholder:"Enter email",name:"email",value:v,onChange:y})]}),Object(o.jsxs)(f.a.Group,{controlId:"formBasicPassword",children:[Object(o.jsx)(f.a.Label,{className:"fw-bolder pt-1 ",children:"Password"}),Object(o.jsx)(f.a.Control,{type:"password",placeholder:"Password",name:"password",value:g,onChange:y})]}),Object(o.jsxs)(f.a.Group,{controlId:"formBasicPassword2",children:[Object(o.jsx)(f.a.Label,{className:"fw-bolder pt-1 ",children:"Renter Password"}),Object(o.jsx)(f.a.Control,{type:"password",placeholder:"Renter password",name:"password2",value:w,onChange:y})]}),Object(o.jsx)(x.a,{variant:"success",className:"mt-2",type:"submit",children:"Submit"}),Object(o.jsx)("center",{className:"p-2",children:Object(o.jsx)(d.b,{to:"/login",children:"Already a User?"})})]})})]})})),$=function(e){var t,a=e.title,n=e.poster_path,c=e.overview,s=e.vote_average;return Object(o.jsxs)("div",{className:"movie",children:[n?Object(o.jsx)("img",{src:"https://image.tmdb.org/t/p/w1280"+n,alt:a}):Object(o.jsx)("img",{src:"no-cover.png",alt:a}),Object(o.jsxs)("div",{className:"movie-info",children:[Object(o.jsx)("h3",{children:a}),Object(o.jsx)("span",{className:"tag ".concat((t=s,t>=8?"green":t>=6?"orange":"red")),children:s})]}),Object(o.jsxs)("div",{className:"movie-overview",children:[Object(o.jsx)("h2",{children:"Overview:"}),Object(o.jsx)("p",{children:c})]})]})};a(78);var ee=function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),r=Object(O.a)(s,2),i=r[0],l=r[1],d=function(e){fetch(e).then((function(e){return e.json()})).then((function(e){return c(e.results)}))};return Object(n.useEffect)((function(){d("https://api.themoviedb.org/3/movie/top_rated?api_key=114fc53f0f4a77fc9c36b19064555e44&language=en-US&page=1&page=1")}),[]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("header",{className:"movieBody",children:Object(o.jsx)("form",{className:"form",onSubmit:function(e){e.preventDefault(),i&&(d("".concat("https://api.themoviedb.org/3/search/movie?&api_key=114fc53f0f4a77fc9c36b19064555e44&query=").concat(i)),l(""))},children:Object(o.jsx)("input",{type:"search",className:"search",placeholder:"Search movies...",value:i,onChange:function(e){l(e.target.value)}})})}),Object(o.jsx)("div",{className:"movie-container",children:a.length>0&&a.map((function(e){return Object(o.jsx)($,Object(p.a)({},e),e.id)}))})]})},te=(a(79),Object(i.b)((function(e){return{auth:e.auth}}),{logout:function(){return{type:E}}})((function(e){var t=e.auth,a=t.isAuthenticated,n=t.user,c=e.logout,s=Object(o.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(o.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(o.jsx)("li",{className:"nav-item  me-auto",children:Object(o.jsx)(d.c,{className:"nav-link",to:"/dashboard",children:"My Profile"})}),Object(o.jsx)("li",{className:"nav-item ",children:Object(o.jsx)(d.c,{className:"nav-link",to:"/list",children:"About"})}),Object(o.jsx)("li",{className:"nav-item ",children:Object(o.jsx)(d.c,{className:"nav-link",to:"/appMovie",children:"Movie Reviews"})}),Object(o.jsx)("li",{className:"nav-item ms-5 ",children:Object(o.jsxs)(d.c,{className:"nav-link text-info float-end fw-bold text-capitalize",to:"#",children:["User:     ",n&&n.name]})}),Object(o.jsx)("li",{className:"nav-item",onClick:function(){c()},children:Object(o.jsx)(d.c,{className:"nav-link",to:"#!",children:"Logout"})})]})}),r=Object(o.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(o.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(d.c,{className:"nav-link",to:"/login",children:"LOGIN"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(d.c,{className:"nav-link bg-primary rounded fs-6 py-.2",to:"/register",children:"REGISTER"})})]})});return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark d-flex flex-row justify-content-end",children:[Object(o.jsx)(d.c,{className:"navbar-brand px-4 fw-bold me-auto",to:"/",children:"MOVIE SPACE"}),Object(o.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(o.jsx)("span",{className:"navbar-toggler-icon"})}),Object(o.jsx)("span",{className:"d-flex flex-row justify-content-end px-4",children:a?s:r})]})})}))),ae=(a(80),function(){return Object(n.useEffect)((function(){localStorage.token&&F(localStorage.token),J.dispatch(K()),window.addEventListener("storage",(function(){localStorage.token||J.dispatch({type:E})}))}),[]),Object(o.jsx)(i.a,{store:J,children:Object(o.jsx)("div",{style:{background:"#EEF2F7",minHeight:"100vh",fontFamily:"'Montserrat', sans-serif"},children:Object(o.jsxs)(d.a,{children:[Object(o.jsx)(te,{}),Object(o.jsx)(r.b,{path:"/dashboard",component:l}),Object(o.jsx)(r.b,{exact:!0,path:"/",component:j}),Object(o.jsx)(r.b,{path:"/login",component:X}),Object(o.jsx)(r.b,{path:"/register",component:Z}),Object(o.jsx)(r.b,{path:"/list",component:Y}),Object(o.jsx)(r.b,{path:"/appMovie",component:ee})]})})})});s.a.render(Object(o.jsx)(ae,{}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.25fa398c.chunk.js.map